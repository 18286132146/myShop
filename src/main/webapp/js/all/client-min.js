!function(){window.SID=(new Date).getTime();var t,e,n,a,i,o,r=document.location;r.protocol,r.host,r.pathname,window.urls=document.location.href,window.basePath=location.href.match(/[a-zA-Z0-9:_./\-]*\/page\//)[0].replace("/page/",""),window._getParameter=function(t,e){var n=String(e||r).match(new RegExp("[?&]"+t+"=([^&]*)(&?)","i"));return n?n[1]:null},window._getParameter,window.__pageParam,window.FAST=!0,window.Zepto=$,window.Device=(t={},n=(e=navigator.userAgent).match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),o=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/),t.ios=t.android=t.iphone=t.ipad=!1,t.os="web",n&&(t.os="android",t.osVersion=n[2],t.android=!0),(a||o||i)&&(t.os="iphone",t.ios=!0),o&&!i&&(t.osVersion=o[2].replace(/_/g,"."),t.iphone=!0),a&&(t.osVersion=a[2].replace(/_/g,"."),t.ipad=!0),i&&(t.osVersion=i[3]?i[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&0<=e.indexOf("Version/")&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),t)}();var NS={MSG:{MsgMustInput:"请输入{0}！",MsgSelect:"请选择{0}！",MsgCheck:"请阅读并勾选{0}！",MsgMinLength:"{0}长度不能小于{1}位！",MsgMaxLength:"{0}长度不能超过{1}位！",MsgLength:"{0}长度必须为{1}位！",MsgMinValue:"{0}不能小于{1}！",MsgMaxValue:"{0}不能大于{1}！",MsgMoney:"{0}必须大于0！",MsgNumber:"{0}必须是整数！",MsgFormat:"{0}格式不正确！",MsgStr:"{0}不能包含特殊字符！",Msglengu:"{0}必须是9-10位的字符",MsgAjaxError:"系统繁忙，资金类交易请及时核对账户信息",Msg_int:"{0}必须是整数！",Msg_zipcode:"{0}必须为6位数字！",Msg_money:"金额由9位整数或2位小数组成！",Msg_card:"{0}必须是16-19位数字！",Msg_chinese:"{0}必须是汉字！",Msg_specialFont:"{0}不能包含特殊字符！",Msg_sms:"{0}必须为6位数字！"},EVT_NAME:{QUERY:"查询",OK:"确定",BACK:"返回",CANCLE:"取消"},PATTERN:{int:/^-?[1-9]\d*$/,mobile:/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,phone:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$|0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}/,zipcode:/^[1-9][0-9]{5}$/,money:/^([1-9][\d]{0,8}|0)(\.[\d]{1,2})?$/,email:/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,card:/^\d{16,19}$/,lpd:/^[a-z|A-Z|0-9]*$/,chinese:/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3])*$/,name:/^[\u4e00-\u9fa5]+·*[\u4e00-\u9fa5]*$/,specialFont:/[^\u4e00-\u9fa5\w，。；：“”‘’,.()（）]/,unitcode:/^[0-9a-zA-Z-]*$/,sms:/^\d{6}$/}},YT={idSeed:1e4,id:function(){return"yt_gen_"+ ++YT.idSeed},emptyFn:function(){},log:console&&DEBUG?console:{info:function(){},debug:function(){},warn:function(){},error:function(){}},namespace:function(){var e,n=null;return YT.each(arguments,function(t){e=t.split("."),n=window[e[0]]=window[e[0]]||{},YT.each(e.slice(1),function(t){n=n[t]=n[t]||{}})}),n},apply:function(t,e,n){if(n&&YT.apply(t,n),t&&e&&YT.isObject(e))for(var a in e)t[a]=e[a];return t},applyIf:function(t,e){if(t)for(var n in e)YT.isDefined(t[n])||(t[n]=e[n]);return t},extend:function(){var r=Object.prototype.constructor,s=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};return function(e,t,n){if(YT.isObject(t)&&(n=t,t=e,e=n.constructor!==r?n.constructor:function(){t.apply(this,arguments)}),!t)return null;var a,i=function(){},o=t.prototype;return i.prototype=o,(((a=e.prototype=new i).constructor=e).superclass=o).constructor===r&&(o.constructor=t),e.override=function(t){YT.override(e,t)},a.override=s,a.proto=a,e.override(n),e.extend=function(t){return YT.extend(e,t)},e}}(),override:function(t,e){YT.apply(t.prototype,e)},toString:function(t){return Object.prototype.toString.apply(t)},isDefined:function(t){return void 0!==t},isEmpty:function(t,e){return null==t||"NULL"===String(t).toUpperCase()||YT.isArray(t)&&!t.length||!e&&""===t},isArray:function(t){return"[object Array]"===YT.toString(t)},isDate:function(t){return"[object Date]"===YT.toString(t)},isObject:function(t){return!!t&&"[object Object]"===YT.toString(t)},isFunction:function(t){return"[object Function]"===YT.toString(t)},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isString:function(t){return"string"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isPrimitive:function(t){return YT.isString(t)||YT.isNumber(t)||YT.isBoolean(t)},isIterable:function(t){return!(!t||"string"==typeof t)&&YT.isDefined(t.length)},isUrl:function(t){return/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST|127.0.0.1))\/?)/i.test(t)},getRandom:function(t){var e="";if(t&&0<t)for(var n=0;n<t;n++)e+=Math.floor(10*Math.random());return e},setParameters:function(t){YT._data=t},getParameters:function(){return YT._data||{}},clearParameters:function(){YT._data={}},each:function(t,e,n){if(!YT.isEmpty(t))if(YT.isDefined(n)||(n=t),YT.isObject(t)){var a=0;for(var i in t)if(t.hasOwnProperty(i)&&!1===e.call(n||t,i,t[i],a++,t))return}else{YT.isIterable(t)&&!YT.isPrimitive(t)||(t=[t]),a=0;for(var o=t.length;a<o;a++)if(!1===e.call(n||t[a],t[a],a,t))return a}},bind:function(t,e){return YT.isFunction(t)?function(){return t.apply(e,arguments)}:t},define:function(t){var e=arguments;1<e.length||!YT.isFunction(t)?define.apply(this,e):define.call(this,t)},template:function(){var t=arguments,e=t[0];if(YT.isArray(e))if(1<e.length){var n=[],a={};YT.each(e,function(t){YT.isObject(t)?YT.apply(a,t):n.push(t)}),YT.each(a,function(t,e){YT.isFunction(e)&&juicer.register(t,e)}),t[0]=n.join("")}else t[0]=e[0];return juicer.apply(this,t)},JsonToStr:function(t){return JSON.stringify(t)},JsonEval:function(str){return eval("("+str+")")},_hideKeyboard:function(t){YT.Device._hideKeyboard(t)},touch:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},initPageEvent:function(t,i){var e=function(t,e,n){var a=e.data(n);YT.log.debug("event ",n,":",a),i[a]&&i[a](t,e)};t.on("click","[data-event]",function(t){e(t,$(this),"event")}),t.on("change","[data-change]",function(t){e(t,$(this),"change")}),t.on("input","[data-input]",function(t){e(t,$(this),"input")}),t.on("blur","[data-blur]",function(t){e(t,$(this),"blur")}),YT.Device.initEvent(t)},initPageTitle:function(t){YT.Device.initPageTitle(t)},titleSearchBar:function(t){YT.Device.titleSearchBar(t)},showPageArea:function(t,e,n){YT.Device.showPageArea(t,e,n)},loadPage:function(t,e,n,a,i){YT.AjaxUtil.loadPage(t,e,n,a,i)},getPage:function(t,e,n){YT.AjaxUtil.getPage(t,e,n)},openWaitPanel:function(t){YT.Device.openWaitPanel(t)},hideWaitPanel:function(t){YT.Device.hideWaitPanel(t)},alertinfo:function(t,e,n,a){YT.Device.alertinfo(t,e,n,a)},confirm:function(t,e,n,a,i,o){YT.Device.confirm(t,e,n,a,i,o)},sessionTimeout:function(t){YT.Device.sessionTimeout(t)},getSession:function(t){YT.Device.getSession(t)},setSession:function(t){YT.Device.setSession(t)},showTips:function(t){YT.Tips.showTips({content:t,stayTime:2e3,type:"warn"})},ajaxData:function(t,e,n,a){YT.Device.ajaxData(t,e,n,a)},onceAjaxData:function(t,e,n,a){YT.AjaxUtil.onceAjaxData(t,e,n,a)},ajaxText:function(t){YT.AjaxUtil.ajaxText(t)},ajaxCashe:function(t,e,n,a,i,o){YT.Device.ajaxCashe(t,e,n,a,i,o)},openMenuPage:function(t){YT.Device.openMenuPage(t)},geneQRC:function(t,e){YT.Device.geneQRC(t,e)},sweepQRC:function(t){YT.Device.sweepQRC(t)},sharePages:function(t,e){YT.Device.sharePages(t,e)},shareReceipt:function(t,e){YT.Device.shareReceipt(t,e)},openMobilePhoto:function(t,e){YT.Device.openMobilePhoto(t,e)},openMobilePhotoAlbum:function(t,e){YT.Device.openMobilePhotoAlbum(t,e)},openMobileCamera:function(t,e){YT.Device.openMobileCamera(t,e)},fingerPrint:function(t){YT.Device.fingerPrint(t)},openFingerPrint:function(t){YT.Device.openFingerPrint(t)},setGesture:function(t){YT.Device.setGesture(t)},checkGesture:function(t){YT.Device.checkGesture(t)},openOrColse:function(t){YT.Device.openOrColse(t)},gotoClientIndex:function(){YT.Device.gotoIndex()},gotoClientBack:function(){YT.Device.gotoBack()},gotoClientLogin:function(){YT.Client.gotoLogin()},dataUrl:function(t,e,n,a){if(t=0==t.indexOf("/")?t:"/"+t,DEBUG){if(YT.isEmpty(e)||e){var i=YT.TestUtil,o=n&&(YT.isString(n)?n:i&&i.dispatch(t,n))||"";return basePath+"/data/json"+t+o+(a?".json":".js")}return basePath+t+".do"}return basePath+t+".do"},formatUrl:function(t){return t+(0<t.indexOf("?")?"&t=":"?t=")+(new Date).getTime()},exchangeCss:function(t,e,n){YT.log.debug("----run----"+n,"YT.exchangeCss"),e&&e.removeClass(n),t&&t.addClass(n)},getFunctionName:function(t,n){if(null==t||""==t)return"";if("[object Function]"!==Object.prototype.toString.apply(t))return t;var a=YT.id();return window[a]=function(){var e=[];YT.each(arguments,function(t){1==n&&(t=decodeURIComponent(t)),"string"==typeof t&&"{"==t.charAt(0)&&"}"==t.charAt(t.length-1)&&(t=YT.JsonEval(t.replace(/<\/?[^>]*>/g,"").replace(/[\r\n]/g,"<br>"))),e.push(t)},this),t.apply(this,e),delete window[a]},a},executeFunc:function(t,e){e&&e(t)},showPopuMenus:function(t){YT.Util.showPopuMenus(t)},sysdate:function(t){YT.DateUtil.sysdate(t)},getDate:function(t,e){return YT.DateUtil.getDate(t,e)},loadIndexPage:function(t,e){YT.NavUtil.loadIndexPage(t,e)},nextPage:function(t,e){YT.setParameters(e),YT.NavUtil.nextPage(t)},prevPage:function(){YT.NavUtil.prevPage()},gotoIndex:function(){YT.NavUtil.gotoIndex()},refreshPage:function(){YT.NavUtil.refreshPage()},openLeftMenu:function(t){YT.NavUtil.openLeftMenu()},openRightMenu:function(t){YT.NavUtil.openRightMenu()},getLayoutData:function(t){YT.Device.getLayoutData(t)},setLayoutData:function(t){YT.Device.setLayoutData(t)}};YT.namespace("YT.core","YT.util","YT.device"),Fw=YT,$.postAjax={},$.fn.extend({bubbleByCls:function(t){var e=this.parent();return t&&e?e.hasClass(t)?e:e.bubbleByCls(t):null}}),$.postAjax={},YT.AjaxUtil={ajaxData:function(t){t.failure||(t.failure=t.success);var e=(new Date).format("yyyyMMddHHmmss");t.params.REQ_TIME=e,(new YT.TransAjax).post(t)},onceAjaxData:function(e,n,a,i){var t=(new Date).getTime(),o=YT.apply({},n);if($.postAjax.lastRequest){if(t-$.postAjax.lastRequest.timestamp<5e3&&o&&JSON.stringify($.postAjax.lastRequest.params)===JSON.stringify(o))return void YT.alertinfo("交易处理中，请勿重复提交！");$.postAjax.lastRequest.params=o,$.postAjax.lastRequest.timestamp=t}else $.postAjax.lastRequest={params:o,timestamp:t};onceSuccess=function(t){t&&"1"===t.STATUS?(n.CHECK_TOKEN="Y",n.REPEAT_TOKEN=t.REPEAT_TOKEN,YT.ajaxData(e,n,a,i)):(YT.alertinfo("数据请求失败,请查询交易结果，不要重复提交数据！"),YT.hideWaitPanel())};var r=YT.dataUrl("common/onceTokenGet");YT.ajaxData(r,"{}",onceSuccess,i)},ajaxText:function(t){return $.ajax({url:t,async:!1}).responseText},loadPage:function(n,t,a,i,o){$.ajax({url:t,data:{},type:"get",success:function(t){var e=YT.template(t,a);n.html(e),o&&YT.Form.initPanel(n,o,a),i&&i(a)},error:function(){YT.showTips("加载模板失败!"),i&&i(a)}})},getPage:function(t,e,n){$.ajax({url:t,data:e,type:"get",success:function(t){n&&n(t)},error:function(){YT.showTips("加载模板失败!"),n&&n("加载模板失败!")}})}},function(){var t,u,d,s;YT.log.debug("init","YT.Collection");var c=!1,i=0,o=0,f={en:"",ct:"",mt:"",fp:"",pp:"",st:"",ce:"",oc:"",aoc:""},p=YT.Collection={init:function(){t=$("#mainBody"),u=t.find(".pages.ui-navbar-through"),p.initDatas(),p.initEvent()},initDatas:function(){var t=new Date;p.timeFormat=t.format("yyyy-MM-dd hh:mm:ss");var e=t.getTime(),n=p.prevPages();if(!YT.isEmpty(n)){var a={},i=n.PAGE_TIME;a.pp=n.PAGE_PATH,a.st=e-i,a.ct=p.timeFormat,YT.Client.setCollection(a)}p.setPageDatas(e)},initEvent:function(){var t=$("body");t.on("touchstart","[data-event]",p.btnTouchStart),t.on("touchmove","[data-event]",p.btnTouchMove),t.on("touchend","[data-event]",p.btnTouchEnd),t.on("touchstart","[data-name]",function(){var t=$(this);YT.log.debug("--click---"+t.data("name"))}),t.on("focus","input,textarea",function(){var t=$(this);t.attr("data-curCollVal",t.val())}),t.on("blur","input,textarea",function(){var t=$(this);t.attr("data-curCollVal")!==t.val()&&p.monitorData(t)})},monitorData:function(t){var e=t.data("name"),n={mt:"3",oc:t.val(),aoc:t.attr("data-curCollVal")};p.setColl(n,e)},btnTouchStart:function(t){$(t.currentTarget);var e=window.location.href;p.moduleNo=e.substring(e.lastIndexOf("/")+1,e.indexOf(".html"));var n=t.originalEvent;i=n.touches[0].pageX,o=n.touches[0].pageY},btnTouchMove:function(t){var e=t.originalEvent,n=e.touches[0].pageX,a=e.touches[0].pageY;(10<Math.abs(n-i)||10<Math.abs(a-o))&&(c=!0)},btnTouchEnd:function(t){if(!c){var e=$(t.currentTarget),n=e.data("event"),a="",i=e.attr("data-collectExt"),o=e.attr("data-collectType");o=o||"3",YT.isEmpty(i)||(a=i);var r={mt:o,ce:a};p.setColl(r,n)}c=!1},setColl:function(t,e){var n=YT.apply({},f);YT.apply(n,t);var a=d.substring(d.lastIndexOf("/")+1,d.indexOf(".html")),i=new Date,o=i.format("yyyy-MM-dd hh:mm:ss"),r=(i.getTime(),d.substring(d.indexOf("/")+1));r=r.substring(0,r.indexOf("/")),n.en="B001.C001.M"+r+"."+a+".E"+e,n.pn=s,n.ct=o,n.pp=d,n.st="",YT.log.info(n),YT.Client.setCollection(n)},setDatas:function(){var t=p.prevPages(),e=new Date,n=e.format("yyyy-MM-dd hh:mm:ss"),a=e.getTime();if(t){var i=YT.apply({},f),o=t.PAGE_TIME,r=(t.CURR_NO,d.substring(d.lastIndexOf("/")+1,d.indexOf(".html"))),s=d.substring(d.indexOf("/")+1);s=s.substring(0,s.indexOf("/"));var c=p.getTitleName(),l=u.find(".page-view.page-on-center");l=l.attr("data-page"),i.en="B001.C001.M"+s+"."+r+".V",i.ct=n,i.mt="4",i.fp=d,i.fn=t.PAGE_NAME,i.pn=c,i.st=(a-o).toString(),i.pp=l,YT.Client.setCollection(i)}p.setPageDatas(a)},prevPages:function(){var t=sessionStorage.getItem("PREV_COLLECTION");return YT.isEmpty(t)?null:(sessionStorage.removeItem("PREV_COLLECTION"),YT.JsonEval(t))},setPageDatas:function(t){var e,n=u.find(".page-view.page-on-center");d=n.attr("data-page");var a=p.getTitleName();e=n.find(">div").attr("id");var i={PAGE_PATH:d,PAGE_ID:e,PAGE_NAME:s=a,PAGE_TIME:t};sessionStorage.setItem("PREV_COLLECTION",YT.JsonToStr(i))},getTitleName:function(){var t=u.find(".page-view.page-on-center");d=t.attr("data-page");var e=t.find("title"),n="";return 1==e.length?(n=e.text(),YT.isEmpty(n)&&(n=t.find("div.page.current").attr("title"))):n=t.find("div.page.current").attr("title"),n}};YT.log.debug("init-end--")}(),function(){var g=YT.DateUtils={sysdate:function(e){var t=YT.dataUrl("common/sysdate",!0);YT.ajaxData(t,{},function(t){e&&e(t)})},getDate:function(t,e){var n=e?new Date(e):new Date,a=n.getDate();t=t||0,n.setDate(a+t),a=n.getDate();var i=n.getMonth();return n.getYear()+1900+"-"+(i+1<10?"0"+(i+1):i+1)+"-"+(a<10?"0"+a:a)},dateDiff:function(t,e){try{var n=t.replace(/-/g,"/"),a=e.replace(/-/g,"/");d1=new Date(n),d2=new Date(a);var i=d1.getTime()-d2.getTime();return parseInt(i/864e5)}catch(t){return YT.log.debug(t),0}},dateToWeek:function(t){return["星期天","星期一","星期二","星期三","星期四","星期五","星期六"][new Date(Date.parse(t.replace(/-/g,"/"))).getDay()]},initDateController:function(i,o,t){var r=i.find(".y-date");r.length<1||g.sysdate(function(t){var e=t&&(t.SYS_DATE||t.CUR_DATE);r.find("input[data-name]").val(e);var n=r.find(".x-date-start"),a=r.find(".x-date-end");g.initQueryDateControll(n,a,e),g.initDateTab(i,o,e,n,a)})},initQueryDateControll:function(d,f,p){var h=YT.Form.resultCustomerValidator;d.on("validator",function(t,e){var n=$(e).data("gid"),a=$(e).val(),i=m(f,n).val(),o=g.getDate(0,p),r=a.replace(/-/g,""),s=i.replace(/-/g,""),c=o.replace(/-/g,""),l=g.getDate(-365,p).replace(/-/g,""),u=g.getDate(-90,i).replace(/-/g,"");return s<r?(h(d,!1,"开始日期不能大于结束日期"),!1):r<l?(h(d,!1,"只能查询一年内记录"),!1):r<u?(h(d,!1,"查询区间不能大于90天"),!1):c<s?(h(f,!1,"结束日期不能大于今天"),!1):(h(d,!0),h(f,!0),!0)})},initDateTab:function(t,r,s,c,l){var u=t.find(".y-date-quick");if(!(u.length<1)){var d=u.data("change");u.on("click","label.ui-radio-s",function(t){var e=$(this).find("input.x-item"),n=e.data("gid");u.find("li").removeClass("current"),e.addClass("current");var a=e.data("value"),i=s,o=g.getDate(a,s);m(c,n).val(o),m(l,n).val(i),d&&r&&r[d]&&r[d]()}),u.find("li.current").trigger("click")}}};function m(t,e){return e?t.filter("[data-gid='"+e+"']"):t}}(),function(){var o="YT.Form",m=NS.MSG;YT.log.debug("--init--");var v=YT.Form={init:function(){},readyLock:function(t,e){return 0<t.find("[data-ready='false']").length},initInnerPanel:function(t,e,n){v.setFormJson(t,n),YT.DateUtils&&YT.DateUtils.initDateController(t,e,n),YT.Sms.initSmsController(t,e,n),YT.Input&&YT.Input.init(t,e,n),YT.Upload&&YT.Upload.init(t,e,n),YT.Tab&&YT.Tab.initTabFilter(t,e,n),YT.Checkbox&&YT.Checkbox.init(t,e,n),YT.Radiobox&&YT.Radiobox.init(t,e,n)},initPanel:function(o,r,s){v.initInnerPanel(o,r,s),o.find("[data-extlib]").each(function(t,e){var n=$(this),a=n.attr("data-extlib"),i=NS.EXT_LIBS&&NS.EXT_LIBS[a]||null;YT.log.info("----init extlib-----",a,i),null!=i&&seajs.use(i,function(t){t.init(n,o,r,s)})})},resetPanel:function(a,i,o){a.find("[data-extlib]").each(function(t,e){var n=$(this);v.resetWidget(n,a,i,o)})},resetWidget:function(e,n,a,i){var t=e.attr("data-extlib"),o=NS.EXT_LIBS&&NS.EXT_LIBS[t]||null;YT.log.info("----init extlib-----",t,o),null!=o&&seajs.use(o,function(t){t.reset(e,n,a,i)})},preInitPanel:function(t,e,n){},getFormJson:function(t,r){if(r=r||{},!t)return r;var s=[];return t.find("[data-name]").each(function(){var t,e=$(this),n="";t=e.attr("data-name");for(var a=0;a<s.length;a++)if(s[a]==t)return;s.push(t);var i=e.attr("data-type")||this.type;if("checkbox"==i){var o=[];e.find("input:checked").each(function(){o.push(this.value)}),n=o.join(",")}else"radiobox"==i?n=e.find("input[type=radio]:checked").val():(n=e.attr("data-value")||e.val()||e.text()||"","money"!=i&&"number"!=i||(n=n.replace(/,/g,"")),n=n.replace(/ /g,""));t&&n&&(r[t]=n)}),YT.log.debug(YT.JsonToStr(r),"YT.Form.getFormJson"),r},setFormJson:function(r,s){s=s||{},"{}"!==YT.JsonToStr(s)&&r.find("[data-name]").each(function(){var t=$(this),e=t[0].tagName,n=t.attr("data-name")||t.name||"",a=s[n];if(a){var i=t.data("type")||t[0].type||"";if("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)"radio"==i?r.find("[type=radio][value="+a+"]").prop("checked","checked"):t.val(a);else if("checkbox"==i){var o=a.split(",");$.each(o,function(t,e){$("input:checkbox[value='"+e+"']").attr("checked","true")})}else t.text(a)}})},validAgree:function(t,e){if(t.prop("checked"))return!0;var n=v.msgjoin(m.MsgCheck,[e]);return YT.showTips(n),!1},validator:function(t){var i=!0;return t.find("[data-name]").each(function(){var t=$(this);if(!0===t.is(":hidden"))return!0;var e=t.attr("data-name");if(e){YT.log.debug("valid elem :"+e,o);var n=this.value||t.attr("data-value")||this.innerHTML,a=t.attr("data-type")||this.type||"";if("checkbox"==a||"radiobox"==a&&(n=t.find('input[type="radio"][name="'+e+'"][checked]').val()),!v.validatorElement(t,e,a,n,!0))return i=!1}}),i},validatorElement:function(a,t,e,n,i){var o,r;o=a.attr("data-required"),r=a.attr("data-label")||t;var s="true"==o||"required"==o;if("protocol"==e){var c=a.find('input[type=checkbox][name="'+t+'"]');return v.validAgree(c,r)}if("checkbox"==e)return!(!("checkbox"==a.attr("type")?a.prop("checked"):a.find("input[type=checkbox]").prop("checked"))&&s&&(g(m.MsgSelect,[r]),1));if(0==(n=n||"").trim().length)return!s||(g(m.MsgMustInput,[r]),!1);"money"!=e&&"number"!=e||(n=n.replace(/,/g,"")),n=n.replace(/\s+/g,"");var l=/\'|\"|,|=|:|\{|\}|\[|\]$/;if("db"==a.attr("data-json")&&(l=/\'|\"/),l.exec(n))return g(m.MsgStr,[r]),!1;var u=a.attr("data-len");if(u&&n.length!=1*u)return g(m.MsgLength,[r,u]),!1;var d=a.attr("data-min")||null;if(d&&1*n<1*d)return g(m.MsgMinValue,[r,d]),!1;var f=a.attr("data-max")||null;if(f&&1*f<1*n)return g(m.MsgMaxValue,[r,f]),!1;if(("number"==e||"money"==e)&&isNaN(n))return g(m.MsgNumber,[r]),!1;var p=NS.PATTERN[e];if(!YT.isEmpty(p)&&!p.test(n)){var h=m["Msg_"+e];return YT.log.info(h),g(h=YT.isEmpty(h)?m.MsgFormat:h,[r]),!1}if("money"==e&&n<=0)return g(m.MsgMoney,[r]),!1;if("certNo"==e&&!v.IdCardValidate(n))return g(m.MsgFormat,[r]),!1;if("orgNo"==e&&v.orgcodevalidate(n))return g(m.MsgFormat,[r]),!1;if("unitcode"==e&&(10<n.length||n.length<9))return g(m.MsgFormat,[r]),!1;try{if(a.trigger("validator",a),"false"==a.attr("data-check"))return!1}catch(t){}function g(t,e){var n=v.msgjoin(t,e);v.showPinLabel(a,n,i)}return!0},showPinLabel:function(t,e,n){YT.showTips(e),n&&t.focus()},msgjoin:function(t,n){return YT.log.debug("Form.msgjoin:"+t,o),t.replace(/\{(\d+)\}/g,function(t,e){return 0==e?"'"+n[0]+"'":n[e]})},resultCustomerValidator:function(t,e,n){!e&&n?(t.attr("data-check","false"),v.showPinLabel(t,n,focus)):t.attr("data-check","true")},IdCardValidate:function(t){if(15==(t=t.replace(/ /g,"")).length)return v.isValidityBrithBy15IdCard(t);if(18!=t.length)return!1;var e=t.split("");return!(!v.isValidityBrithBy18IdCard(t)||!v.isTrueValidateCodeBy18IdCard(e))},isTrueValidateCodeBy18IdCard:function(t){var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],n=0;"x"==t[17].toLowerCase()&&(t[17]=10);for(var a=0;a<17;a++)n+=e[a]*t[a];return valCodePosition=n%11,t[17]==[1,0,10,9,8,7,6,5,4,3,2][valCodePosition]},isValidityBrithBy18IdCard:function(t){var e=t.substring(6,10),n=t.substring(10,12),a=t.substring(12,14),i=new Date(e,parseFloat(n)-1,parseFloat(a));return i.getFullYear()==parseFloat(e)&&i.getMonth()==parseFloat(n)-1&&i.getDate()==parseFloat(a)},isValidityBrithBy15IdCard:function(t){var e=t.substring(6,8),n=t.substring(8,10),a=t.substring(10,12),i=new Date(e,parseFloat(n)-1,parseFloat(a));return i.getYear()==parseFloat(e)&&i.getMonth()==parseFloat(n)-1&&i.getDate()==parseFloat(a)},orgcodevalidate:function(t){if(""!=t){var e=t.split("-"),n=[3,7,9,10,5,8,4,2];if(!/^([0-9A-Z]){8}$/.test(e[0]))return!0;for(var a=0,i=0;i<8;i++)a+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[0].charAt(i))*n[i];var o=11-a%11;return 11==o?o="0":10==o?o="X":o+="",e[1]+""!=o}}};v.init(),YT.log.debug("--end--",o)}(),function(){var i=YT.Format={listIndex:function(t){return 1*t+1},fmtNsType:function(t,e){return NS[e]&&NS[e][t]||t},fmtAcctNo:function(t,e){if(YT.isEmpty(t))return"";t=i.removeSpace(t);var n="";if(e){var a=t.length-4;a<4&&(a=4),n=n+t.substring(0,4)+" **** **** "+t.substring(a,t.length)}else{for(;4<t.length;)n+=t.substring(0,4),n+=" ",t=t.substring(4,t.length);n+=t}return n},fmtAcctStop4:function(t){return YT.isEmpty(t)?"":t.substring(t.length-4,t.length)},fmtAccInput:function(e){e.on("keyup",function(){var t=e.val();e.val(t.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1 "))})},fmtPhoneNo:function(t){if(YT.isEmpty(t))return"";var e="",n=(t=i.removeSpace(t)).length-4;return n<4&&(n=4),e+t.substring(0,3)+" **** "+t.substring(n,t.length)},fmtIdNo:function(t){if(YT.isEmpty(t))return"";var e="",n=(t=i.removeSpace(t)).length-2;return n<2&&(n=2),e+t.substring(0,2)+" **** **** "+t.substring(n,t.length)},fmtCustName:function(t){if(YT.isEmpty(t))return"";var e="",n=(t=i.removeSpace(t)).length-1;return n<1&&(n=1),e+t.substring(0,1)+"*"+t.substring(n,t.length)},removeSpace:function(t){return YT.isEmpty(t)?"":t.replace(/\s/g,"")},fmtDate:function(t,e,n){return YT.isEmpty(t)?"":(YT.isDate(t)||(t=new Date(t)),t.format(e||"yyyy年MM月dd日"))},fmtMoney:function(t,e,n,a){t=(t+="").replace(/,/g,"");var i=(t*=1)<0?"-":"";e=e||2,t=t.toFixed(e),e=Math.abs(e)+1?e:2,n=n||".",a=a||",";var o=/(\d+)(?:(\.\d+)|)/.exec(t+""),r=3<o[1].length?o[1].length%3:0;return i+(r?o[1].substr(0,r)+a:"")+o[1].substr(r).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?n+(+o[2]||0).toFixed(e).substr(2):"")},fmtAmt:function(t){try{return i.fmtMoney(t,2,".",",")}catch(t){return"0.00"}},fmtNum:function(t){return""==t?"0":t},fmtDistance:function(t){return""==t?t:(t=parseInt(100*t/100),s1=t+"",4<s1.length||4==s1.length?(s1/1e3).toFixed(1)+"km":s1+"m")},fmtAmt4s:function(t){try{return i.fmtMoney(1*t,4,".",",")}catch(t){return"0.0000"}},delFmtMony:function(t){var e=t.trim()+"";return-1!=e.indexOf(".")&&(e=e.substr(0,e.indexOf(".")+3)),e.replace(/,/g,"")},unfmtAmt:function(t){return YT.isEmpty(t)?"":t.replace(/,/g,"")},fmtAddPercent:function(t){var e=Math.floor(100*t)/100;return(e=e.toFixed(2))+"%"},fmtNumber2Chinese:function(t){t=t.replace(/,/g,"");try{0==(t=parseFloat(t))&&(t="")}catch(t){}if(!/^\d*(\.\d*)?$/.test(t))throw new Error(-1,"Number is wrong!");for(var e=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),n=new Array("","拾","佰","仟","萬","億","圆",""),a=new Array("角","分","厘"),i=(""+t).replace(/(^0*)/g,"").split("."),o=0,r="",s=i[0].length-1;0<=s;s--){switch(o){case 0:r=n[7]+r;break;case 4:new RegExp("0{4}\\d{"+(i[0].length-s-1)+"}$").test(i[0])||(r=n[4]+r);break;case 8:r=n[5]+r,n[7]=n[5],o=0}o%4==2&&"0"==i[0].charAt(s)&&"0"!=i[0].charAt(s+2)&&(r=e[0]+r),0!=i[0].charAt(s)&&(r=e[i[0].charAt(s)]+n[o%4]+r),o++}if(1<i.length){for(r+=n[6],s=0;s<i[1].length&&(r+=e[i[1].charAt(s)]+a[s],2!=s);s++);"0"==i[1].charAt(0)&&"0"==i[1].charAt(1)&&(r+="元整")}else r+="元整";return YT.isEmpty(i[0])&&(r="零元整"),r},fmtImgUrl:function(t){return YT.isEmpyt(t)?"":(t=0==t.indexOf("/")?t:"/"+t,basePath+t)},fmtListCovert:function(t,e){if(t&&e)for(var n=e.split(",|，||"),a=0;a<t.length;a++)for(var i=t[a],o=0;o<n.length;o++){var r=n[o].split("=");2==r.length&&(i[r[0]]=i[r[1]])}return t}};YT.each(i,function(t,e){YT.isFunction(e)&&juicer.register(t,e)}),Date.prototype.format=function(t){var n=this,a=function(t,e){e||(e=2),t=String(t);for(var n=0,a="";n<e-t.length;n++)a+="0";return a+t};return t.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|M{1,4}|yy(?:yy)?|([hHmMstT])\1?|[lLZ])\b/g,function(t){switch(t){case"d":return n.getDate();case"dd":return a(n.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][n.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];case"M":return n.getMonth()+1;case"MM":return a(n.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()];case"yy":return String(n.getFullYear()).substr(2);case"yyyy":return n.getFullYear();case"h":return n.getHours()%12||12;case"hh":return a(n.getHours()%12||12);case"H":return n.getHours();case"HH":return a(n.getHours());case"m":return n.getMinutes();case"mm":return a(n.getMinutes());case"s":return n.getSeconds();case"ss":return a(n.getSeconds());case"l":return a(n.getMilliseconds(),3);case"L":var e=n.getMilliseconds();return 99<e&&(e=Math.round(e/10)),a(e);case"tt":return n.getHours()<12?"am":"pm";case"TT":return n.getHours()<12?"AM":"PM";case"Z":return n.toUTCString().match(/[A-Z]+$/);default:return t.substr(1,t.length-2)}})}}(),$(function(){var t="YT.Input";YT.log.debug("---init--",t),YT.Format;var u=["{@each LIST as item,index}",'<option value="${item.KEY}">${item.VALUE}</option>',"{@/each}"].join(""),r=["{@each LIST as item,index}",'<option value="${item.ID}">${item.WEEK}</option>',"{@/each}"].join(""),c=["{@each LIST as item,index}","<option>${item.VALUE}</option>","{@/each}"].join(""),a=YT.Input={init:function(t,e,n){a.initMoneyController(t,e,n),a.initAcctNo(t,e,n),a.initSwitch(t,e,n),a.initSelect(t,e,n),a.initSelectParams(t,e,n),a.initSelectWeek(t,e,n),a.initPhoneBook(t,e,n),a.initSms(t,e,n),a.callPhone(t,e,n),a.initAgreement(t,e,n)},initAgreement:function(t,e,n){var a=t.find(".Agreemens");a.length<1||(YT.log.info("agreemen ele ",a.length),a.on("click",function(){var t=a.attr("data-url");YT.nextPage(t)}))},initMoneyController:function(t,n,e){var a=t.find("[data-type='money']");if(!(a.length<1)){YT.log.info("money ele ",a.length);var i=t.find("[data-zh='r-amt-zh']"),o=a.data("change");a.on("input",function(){var t=YT.Format.unfmtAmt(a.val());if(YT.isEmpty(t)||YT.isEmpty(t.trim()))i.text("");else{var e=YT.Format.fmtNumber2Chinese(t);i&&i.text(e),o&&n&&n[o]&&n[o]()}})}},initAcctNo:function(t,e,n){t.find("input[data-type$='acct'],input[data-type^='acct']").on("input",function(){var t=this.value.replace(/^\D*$/g,""),e=YT.Format.fmtAcctNo(t,!1);$(this).val(e)})},initSwitch:function(t,e,n){var a=t.find("[data-type='switch']");if(!(a.length<1)){var i,o,r=a.attr("data-handle");YT.isEmpty(r)?(i=t.find('[data-handle="r-switch"]'),o=i.attr("data-toggle")):(i=t.find("."+r),o=a.attr("data-toggle")),i.length<1||(a.on("click",function(){s()}),s())}function s(){a.prop("checked")?i.removeClass(o):i.addClass(o)}},initSelect:function(i,t,e){var o=i.find(".y-select-edit");if(!(o.length<1)){var n=o.find(".x-picker");if(!(n.length<1)){var r=n.find("select");if(!(r.length<1)){var s=n.attr("data-value");s=YT.isEmpty(s)?"VALUE":s;var a=n.attr("data-url");a=YT.isEmpty(a)?"core/remark":a,a=YT.dataUrl(a),o.attr("data-ready","false"),YT.ajaxData(a,{},function(t){if("1"==t.STATUS){var e=t.LIST,a=[];a.push({}),$.each(e,function(t,e){var n={VALUE:e[s]};a.push(n)});var n=YT.template(c,{LIST:a});r.html(n),o.attr("data-ready","true")}else YT.hideWaitPanel(),YT.alertinfo(t.MSG);r.on("change",function(){var t=$(this).find("option:checked").text();i.find(".y-select-edit input").val(t)})})}}}},initSelectParams:function(t,o,e){var r=t.find(".y-select-params");if(!(r.length<1)){var s=r.find("select");if(!(s.length<1)){var c=r.attr("data-key");c=YT.isEmpty(c)?"KEY":c;var l=r.attr("data-value");l=YT.isEmpty(l)?"VLAUE":l;var n=r.attr("data-url");n=YT.isEmpty(n)?"core/cert":n,n=YT.dataUrl(n),r.attr("data-ready","false"),YT.ajaxData(n,{},function(t){if("1"==t.STATUS){var e=t.LIST,i=[];$.each(e,function(t,e){var n=e,a={KEY:n[c],VALUE:n[l]};i.push(a)});var n=YT.template(u,{LIST:i});s.html(n),a(),r.attr("data-ready","true")}else YT.hideWaitPanel(),YT.alertinfo(t.MSG);function a(){var t=r.data("callback");if(!YT.isEmpty(t)){var e=s.val();o[t]&&o[t](e)}}s.on("change",function(){a()})})}}},initSelectWeek:function(t,e,n){var a=t.find(".y-date-week");if(!(a.length<1)){var i=a.find("select");if(!(i.length<1)){var o=YT.template(r,{LIST:[{ID:"1",WEEK:"星期一"},{ID:"2",WEEK:"星期二"},{ID:"3",WEEK:"星期三"},{ID:"4",WEEK:"星期四"},{ID:"6",WEEK:"星期六"},{ID:"0",WEEK:"星期日"}]});i.html(o)}}},initPhoneBook:function(e,t,n){var a=e.find(".y-phone-book");a.length<1||a.on("click",function(){YT.Device.openPhoneBook(function(t){e.find(".x-phone-book").val(t.phoneNumber)})})},initSms:function(e,t,n){var a=e.find(".y-sms-mess");a.length<1||a.on("click",function(){var t=e.find(".x-sms-mess").val();YT.Device.sendSms(t)})},callPhone:function(e,t,n){var a=e.find(".y-call-phone");a.length<1||a.on("click",function(){var t=e.find(".x-call-phone").val();YT.Device.callPhone(t)})}};YT.log.debug("---end--",t)}),function(){var l,u=[],d=[],i="",f="",p=$("#mainBody"),h=$(".navbar-pages"),t=$(".ui-view-overlay"),e=$(".ui-view-left"),n=$(".ui-view-right"),g=!1,m=0,v=YT.NavUtil={idSeed:1e4,getId:function(){return"yt_pid_"+ ++v.idSeed},init:function(){v.initEvent()},initEvent:function(){t&&t.on("click",v.closeBtnMenu)},loadIndexPage:function(e,n){m=W_HEIGHT<650?650:W_HEIGHT,l=$("#loaddingPage");var a=$('<div data-page="index" class="page-view page-transform page-on-center"></div>');h.append(a),i=e,this.loadPage(e,function(t){a.html(t),a.attr("data-page",e),n&&n()},function(){n&&n()})},gotoIndex:function(){YT.log.info("返回首页"),h.find(".page-view:not(.page-on-center)").remove();var t={pid:v.getId(),url:i};u=[],(d=[]).push(t),v.prevPage()},nextPage:function(c){return!g&&(v.closeBtnMenu(),g=!0,f==c?g=!1:(YT.AuthBox&&YT.AuthBox.hideAuthPanel(),v.removeHistoryPage(f),YT.openWaitPanel(),void this.loadPage(c,function(t){var e=$(window).scrollTop();if(f=c,l.show(),3<=u.length){YT.log.info("超过历史页面保存长度");var n=u.shift().pid;h.find("[data-pid="+n+"]").remove()}scroll(0,0),$("body,html").css({height:m+"px"});var a=h.find(".page-on-center");p.addClass("page-transform"),a.addClass("page-transform"),h.find(".page-on-left").removeClass("page-on-left").addClass("page-on-history");var i=v.getId(),o=a.attr("data-page");a.attr("data-pid",i),a.addClass("page-on-left page-center-to-left").removeClass("page-on-center");var r=$("<div data-page='"+c+"' class='page-view page-transform page-on-center'></div>");h.append(r),r.html(t).addClass("page-right-to-center");var s={pid:i,url:o,top:e};u.push(s),d.push(s),setTimeout(function(){a.removeClass("page-center-to-left"),r.removeClass("page-right-to-center"),r.removeClass("page-transform"),p.removeClass("page-transform"),$("body,html").css({height:"auto"}),g=!1},400),YT.Collection.setDatas(),YT.hideWaitPanel(),l.hide()},function(){g=!1})))},prevPage:function(){if(g)return!1;if(v.closeBtnMenu(),g=!0,0==d.length)return g=!1,void YT.gotoClientBack();YT.AuthBox&&YT.AuthBox.hideAuthPanel();var t=d.pop();u.pop();var e=t.pid,a=t.url,i=t.top;if(f=a,0<h.find("[data-pid="+e+"]").length){YT.log.info("存在历史页面"),$("body,html").css({height:m+"px"});var n=h.find(".page-on-left"),o=h.find(".page-on-center");p.addClass("page-transform"),o.addClass("page-transform"),n.addClass("page-left-to-center page-on-center").removeClass("page-on-left"),o.addClass("page-center-to-right").removeClass("page-on-center"),h.find(".page-on-history:last").addClass("page-on-left").removeClass("page-on-history"),$("html, body").animate({scrollTop:i},100),setTimeout(function(){n.removeClass("page-left-to-center"),n.removeClass("page-transform"),p.removeClass("page-transform"),$("body,html").css({height:"auto"}),o.remove(),g=!1},400),YT.hideWaitPanel(),v.reloadPageTitle(),YT.Collection.setDatas()}else YT.log.info("历史页面中不存在----重新加载历史页面"),YT.openWaitPanel(),this.loadPage(a,function(t){YT.hideWaitPanel(),l.show();var e=$("<div data-page='"+a+"' class='page-view page-transform page-on-left'></div>");h.prepend(e),$("body,html").css({height:m+"px"});var n=h.find(".page-on-center");n.addClass("page-transform"),p.addClass("page-transform"),e.addClass("page-left-to-center page-on-center").removeClass("page-on-left"),n.addClass("page-center-to-right").removeClass("page-on-center"),e.html(t),$("html, body").animate({scrollTop:i},100),setTimeout(function(){e.removeClass("page-left-to-center"),e.removeClass("page-transform"),p.removeClass("page-transform"),$("body,html").css({height:"auto"}),n.remove(),g=!1},400),YT.Collection.setDatas()},function(){g=!1})},refreshPage:function(){var t=YT.isEmpty(f)?i:f;if(YT.isEmpty(t))return YT.gotoClientBack(),!1;var e=h.find(".page-on-center");YT.openWaitPanel(),v.loadPage(t,function(t){YT.hideWaitPanel(),e.html(t)})},removeHistoryPage:function(i){var o=[],a=[];$.each(d,function(t,e){var n=e.url,a=e.pid;i!=n&&n.indexOf(i)<0?o.push(e):h.find("[data-pid="+a+"]").remove()}),$.each(u,function(t,e){var n=e.url;i!=n&&n.indexOf(i)<0&&a.push(e)}),d=o,u=a},openLeftMenu:function(){t&&t.show(),e&&e.show(),setTimeout(function(){e.addClass("active")},100)},openRightMenu:function(){t&&t.show(),n&&n.show(),p&&p.addClass("ui-right-reveal"),v.timeRight&&clearTimeout(v.timeRight),v.timeRight=setTimeout(function(){n.addClass("active")},400)},closeBtnMenu:function(){v.closeLeftBtnMenu(),v.closeRightBtnMenu()},closeLeftBtnMenu:function(){t&&t.hide(),p&&p.removeClass("ui-right-reveal"),e.addClass("close-view-left"),v.timeLeftClose&&clearTimeout(v.timeLeftClose),v.timeLeftClose=setTimeout(function(){e.removeClass("active close-view-left").hide()},400)},closeRightBtnMenu:function(){t&&t.hide(),n&&n.removeClass("active"),p&&p.removeClass("ui-right-reveal"),v.timeRightClose&&clearTimeout(v.timeRightClose),v.timeRightClose=setTimeout(function(){n.hide()},400)},reloadPageTitle:function(){var t=h.find(".page-on-center").find(".page.current");YT.initPageTitle(t)},loadPage:function(t,e,n){var a=$.ajax({url:t,data:{},type:"get",success:e,timeout:8e3,error:function(t){n&&n()},complete:function(t,e){YT.hideWaitPanel(),"timeout"==e?a.abort():"0"==e?YT.alertinfo("网络连接异常!请检查您的网络"):"404"==e&&YT.alertinfo("请求页面不存在！")}})}};v.init()}(),YT.util.Observable=function(){this.events||(this.events={}),this.listeners&&(this.on(this.listeners),delete this.listeners)},YT.override(YT.util.Observable,{filterOptRe:/^(?:scope|delay|single)$/,fireEvent:function(){var t,e,n,a=Array.prototype.slice.call(arguments,0),i=a[0].toLowerCase(),o=!0,r=this.events[i];if(!0===this.eventsSuspended)(e=this.eventQueue)&&e.push(a);else if("object"==typeof r)if(r.bubble){if(!1===r.fire.apply(r,a.slice(1)))return!1;if((n=this.getBubbleTarget&&this.getBubbleTarget())&&n.enableBubble)return(t=n.events[i])&&"object"==typeof t&&t.bubble||n.enableBubble(i),n.fireEvent.apply(n,a)}else a.shift(),o=r.fire.apply(r,a);return o},on:function(t,e,n,a){var i,o,r;if("object"==typeof t)for(i in a=t)o=a[i],this.filterOptRe.test(i)||this.on(i,o.fn||o,o.scope||a.scope,o.fn?o:a);else t=t.toLowerCase(),"boolean"==typeof(r=this.events[t]||!0)&&(this.events[t]=r=new YT.util.Event(this,t)),r.addListener(e,n,"object"==typeof a?a:{})},un:function(t,e,n){var a=this.events[t.toLowerCase()];"object"==typeof a&&a.removeListener(e,n)}}),YT.util.Event=function(t,e){this.name=e,this.obj=t,this.listeners=[]},YT.override(YT.util.Event,{addListener:function(t,e,n){var a;e=e||this.obj,this.isListening(t,e)||(a=this.createListener(t,e,n),this.firing&&(this.listeners=this.listeners.slice(0)),this.listeners.push(a))},createListener:function(t,e,n){n=n||{};var a,i,o,r,s,c,l,u,d,f,p,h={fn:t,scope:e=e||this.obj,options:n},g=t;return n.target&&(a=g,i=n,o=e,g=function(){i.target==arguments[0]&&a.apply(o,Array.prototype.slice.call(arguments,0))}),n.delay&&(r=g,s=n,c=h,l=e,g=function(){var t=new YT.util.DelayedTask;c.tasks||(c.tasks=[]),c.tasks.push(t),t.delay(s.delay||10,r,l,Array.prototype.slice.call(arguments,0))}),n.single&&(u=g,d=this,f=t,p=e,g=function(){return d.removeListener(f,p),u.apply(p,arguments)}),h.fireFn=g,h},findListener:function(t,e){var n,a=this.listeners,i=a.length;for(e=e||this.obj;i--;)if((n=a[i])&&n.fn==t&&n.scope==e)return i;return-1},isListening:function(t,e){return-1!=this.findListener(t,e)},removeListener:function(t,e){var n,a,i,o=!1;if(-1!=(n=this.findListener(t,e))){if(this.firing&&(this.listeners=this.listeners.slice(0)),(a=this.listeners[n]).task&&(a.task.cancel(),delete a.task),i=a.tasks&&a.tasks.length){for(;i--;)a.tasks[i].cancel();delete a.tasks}this.listeners.splice(n,1),o=!0}return o},clearListeners:function(){for(var t=me.listeners,e=t.length;e--;)this.removeListener(t[e].fn,t[e].scope)},fire:function(){var t,e=this.listeners,n=e.length,a=0;if(0<n){this.firing=!0;for(var i=Array.prototype.slice.call(arguments,0);a<n;a++)if((t=e[a])&&!1===t.fireFn.apply(t.scope||this.obj||window,i))return this.firing=!1}return!(this.firing=!1)}}),YT.Session={getSession:function(e){try{YT.log.info("--sessionStorage--","App");var t=YT.JsonEval(sessionStorage.getItem("loginsession"));if(YT.isEmpty(t)){var n=YT.dataUrl("common/querySessionInfo");YT.ajaxData(n,{},function(t){t&&"1"==t.STATUS?(sessionStorage.setItem("loginsession",JSON.stringify(t)),e(t)):(YT.alertinfo(t.MSG,""),YT.hideWaitPanel())},function(){})}else e(t)}catch(t){YT.log.debug(t)}}},function(){var r,t=window,s={};YT.Device={_hideKeyboard:function(){$("#mainBody .navbar-views").css({"-webkit-transform":"translateY(0)",transform:"translateY(0)"}),$("#mainBody .yui-auth-form").css({"-webkit-transform":"translateY(0)",transform:"translateY(0)"});try{r.blur()}catch(t){}},_preShowKeyBoard:function(t){YT.isString(t)&&(t=$("#"+t));var e=t.height(),n=t.offset().top,a=$(window).scrollTop(),i=W_HEIGHT+a-n-e;i<280&&($("#mainBody .views").css({"-webkit-transform":"translateY("+(i-280)+"px)",transform:"translateY("+(i-280)+"px)"}),$("#mainBody .yui-auth-form").css({"-webkit-transform":"translateY("+(i-280)+"px)",transform:"translateY("+(i-280)+"px)"}))},initEvent:function(t){var i=this,o={TPwd:"showTPwdPicker",LPwd:"showLPwdPicker",Date:"showDatePicker",Money:"showMoneyPicker",Number:"showNumPicker",IDC:"showIDCPicker"};t.on("click","input[data-keyboard]",function(t){t.preventDefault();var e=$(this);"true"==e.attr("data-clear")&&e.val(""),YT.Client.showKeyBoard(e);var n=e.attr("data-keyboard"),a=o[n];return r=e,i[a]&&i[a](e),!1})},ajaxData:function(t,e,n,a){!YT.isEmpty(a)&&YT.isFunction(a)||(a=function(t){YT.hideWaitPanel(),YT.alertinfo(NS.MSG.MsgAjaxError)});var i={url:t,params:e,success:function(t){if("005"==t.STATUS)return YT.alertinfo("超时"),!1;n&&n(t)},failure:a};YT.Client.post(i)},ajaxCashe:function(t,e,n,a,i,o){!YT.isEmpty(o)&&YT.isFunction(o)||(o=function(t){YT.hideWaitPanel(),YT.alertinfo(NS.MSG.MsgAjaxError)});var r={url:t,version:e,type:n,params:a,success:function(t){if("005"==t.STATUS)return YT.alertinfo("超时"),!1;i&&i(t)},failure:o};YT.Client.getNativeCache(r)},openMenuPage:function(t){YT.isEmpty(t.type)?YT.alertinfo("菜单未配置！","提示"):YT.Client.openMenuPage(t)},initPageTitle:function(t){YT.Client.initPageTitle(t)},titleSearchBar:function(t){YT.Client.titleSearchBar(t)},showPageArea:function(t,e,n){if($("#loaddingPage").hide(),e){var a=$(window).scrollTop();YT.each(e,function(t){t.find("input,textarea").each(function(t,e){$(e).is(":focus")&&$(e).blur()}),!1===t.is(":hidden")&&t.attr("data-pageTop",a),t.removeClass("current")})}t.addClass("current"),a=(a=t.attr("data-pageTop"))||0,$("html, body").animate({scrollTop:a},100),!0===n&&YT.Device.initPageTitle(t)},openWaitPanel:function(t){t=t||"正在加载中。。。",YT.Client.openWaitPanel(t)},hideWaitPanel:function(t){t=t||100,setTimeout(YT.Client.hideWaitPanel,t)},alertinfo:function(t,e,n,a){(n=YT.getFunctionName(n))&&")"!=n.substr(n.length-1)&&(n+="()"),e=e||"温馨提示",a=a||"确定",YT.Client.alertinfo(t,e,n,a)},confirm:function(t,e,n,a,i,o){YT.log.debug("----init-1----","YT.confirm"),(n=YT.getFunctionName(n))&&")"!=n.substr(n.length-1)&&(n+="()"),(a=YT.getFunctionName(a))&&")"!=a.substr(a.length-1)&&(a+="()"),e=e||"温馨提示",i=i||"确定",o=o||"取消",YT.Client.confirm(t,e,n,a,i,o)},sessionTimeout:function(t){YT.log.debug("----init-1----","YT.sessionTimeout"),title="温馨提示",msg="会话超时，请重新登录",t=t||"确定",YT.Client.sessionTimeout(title,msg,t)},setSession:function(t){YT.Client.setSession(t)},getSession:function(t){t=YT.getFunctionName(t),YT.Client.getSession(t)},showTPwdPicker:function(t){try{var e=Fw.getRandom(16),n={len:t.attr("data-len")||"6",transAuth:t.attr("data-transAuth"),random:e,type:"TPWD",callback:"_savePwd"};YT.Client.showTPwdPicker(t,n);var a={ele:t};s.PwdPick=YT.apply(a,n)}catch(t){alert("showTPwdPicker="+t)}},showLPwdPicker:function(t){try{var e=Fw.getRandom(16),n={id:t.attr("id"),len:t.attr("data-maxlength")||"16",random:e,type:"LPWD",callback:"_savePwd"};YT.Client.showLPwdPicker(t,n);var a={ele:t};s.PwdPick=YT.apply(a,n)}catch(t){alert("showLPwdPicker:"+t)}},showDatePicker:function(t){try{var e={text:t.val()||(new Date).format("yyyy-MM-dd"),format:t.attr("data-format")||"yyyy-MM-dd",min:"1900-01-01",max:"2099-12-31",callback:"_saveDate"},n=t.attr("data-min"),a=t.attr("data-max"),i=t.attr("data-startId"),o=t.attr("data-endId");i&&$("#"+i).val()?e.min=$("#"+i).val():n&&(e.min=n),o&&$("#"+o).val()?e.max=$("#"+o).val():a&&(e.max=a),YT.Client.showDatePicker(t,e);var r={ele:t};s.datePick=YT.apply(r,e)}catch(t){alert("showDatePicker="+t)}},showMoneyPicker:function(t){try{var e=YT.Format.unfmtAmt(t.val()),n={text:e="0.00"!=e&&""!=e?1*e+"":"",len:t.attr("data-maxlength")||"9",type:"MONEY",callback:"_saveMoney"};YT.Client.showMoneyPicker(t,n);var a={ele:t};s.moneyPick=YT.apply(a,n)}catch(t){alert("showMoneyPicker="+t)}},showNumPicker:function(t){try{var e={text:t.val(),len:t.attr("data-maxlength")||"19",type:"NUMBER",callback:"_saveNumber"};YT.Client.showNumPicker(t,e);var n={ele:t};s.numberPick=YT.apply(n,e)}catch(t){alert("showNumPicker="+t)}},showIDCPicker:function(t){try{var e={id:t.attr("id"),text:t.val(),len:t.attr("data-maxlength")||"18",type:"IDC",callback:"_saveIDC"};YT.Client.showIDCPicker(t,e);var n={ele:t};s.IDCPick=YT.apply(n,e)}catch(t){alert("showIDCPicker="+t)}},openPhoneBook:function(t){t=YT.getFunctionName(t),YT.Client.openPhoneBook(t)},geneQRC:function(t,e){e=YT.getFunctionName(e),YT.Client.geneQRC(t||{},e)},sweepQRC:function(t){t=YT.getFunctionName(t),YT.Client.sweepQRC(t)},sharePages:function(t,e){e=YT.getFunctionName(e),YT.Client.sharePages(t,e)},shareReceipt:function(t,e){e=YT.getFunctionName(e),YT.Client.shareReceipt(t,e)},openMobilePhoto:function(t,e){t.type="photo",t.COMP_RATE=t.COMP_RATE?t.COMP_RATE:"0.5",e=YT.getFunctionName(e),YT.Client.openMobilePhoto(t,e)},openMobilePhotoAlbum:function(t,e){t.type="photoAlbum",t.COMP_RATE=t.COMP_RATE?t.COMP_RATE:"0.5",e=YT.getFunctionName(e),YT.Client.openMobilePhoto(t,e)},openMobileCamera:function(t,e){t.type="camera",t.COMP_RATE=t.COMP_RATE?t.COMP_RATE:"0.5",e=YT.getFunctionName(e),YT.Client.openMobilePhoto(t,e)},sendSms:function(t){var e={phoneNo:t};YT.Client.sendSms(e)},callPhone:function(t){var e={phoneNo:t};YT.Client.callPhone(e)},showPopupWindow:function(i){var o=[];$.each(i,function(t){var e={},n=i[t];e.name=n.name;var a=n.func;a=YT.getFunctionName(a),e.func=a,o.push(e)}),YT.Client.showPopupWindow(o)},encryptData:function(t,e){t=YT.getFunctionName(t),YT.Client.encryptData(t)},decodeData:function(t,e){t=YT.getFunctionName(t),YT.Client.decodeData(t)},location:function(t){t=YT.getFunctionName(t),YT.Client.location(t)},showCityPicker:function(t,e){var n={deep:t,callback:e=YT.getFunctionName(e)};YT.Client.showCityPicker(n)},titleSearchBar:function(t,e){e=YT.getFunctionName(e);var n={placeholder:deep,callback:e};YT.Client.titleSearchBar(n)},gotoIndex:function(){YT.Client.gotoIndex()},gotoBack:function(){YT.Client.gotoBack()},getLayoutData:function(t){var e={callback:t=YT.getFunctionName(t)};YT.Client.getLayoutData(e)},setLayoutData:function(t){YT.Client.setLayoutData(t)},setGesture:function(t){var e=YT.getFunctionName(t);YT.Client.setGesture(e)},checkGesture:function(t){var e=YT.getFunctionName(t);YT.Client.checkGesture(e)},openFingerPrint:function(t){var e=YT.getFunctionName(t);YT.Client.openFingerPrint(e)},openOrColse:function(t){var e=YT.getFunctionName(t);YT.Client.openOrColse(e)},fingerPrint:function(t){var e=YT.getFunctionName(t);YT.Client.checkFingerPrint(e)}},t._savePwd=function(t){try{YT.isString(t)&&(t=YT.JsonEval(t));var e=t.passVal,n=t.showVal,a=s.PwdPick,i=a.ele,o=a.transAuth;if(YT.isEmpty(e)||YT.isEmpty(n))return i.attr("data-value","").val(""),void(YT.isEmpty(o)||"true"!=o||YT.AuthBox.TPwdCallBack(i));i.attr("data-value",e),i.val(n),i.attr("data-random",a.random),YT.isEmpty(o)||"true"!=o||YT.AuthBox.TPwdCallBack(i)}catch(t){alert("PwdPick:"+t)}},t._saveDate=function(t){var e=s.datePick.ele;e.val(t),e.trigger("change")},t._saveMoney=function(t){var e=s.moneyPick.ele;e.val(YT.Format.fmtAmt(t)),e.trigger("change"),e.trigger("input")},t._saveNumber=function(t){var e=s.numberPick.ele;e.val(t),e.trigger("change"),e.trigger("input")},t._saveIDC=function(t){var e=s.IDCPick.ele;e.val(t),e.trigger("change"),e.trigger("input")}}(),function(){var t,s=function(t,e){window.WebViewJavascriptBridge.callHandler(t,e)};function r(t){var e=[];if(t&&"true"==t[0]&&(t.length-1)%2==0){for(var n=1;n<t.length;){var a=t[n],i=t[n+1];if(!a||!i)break;a=t[n],e.push({exist:"true",name:a,icon:"back",sort:(n-1)/2,func:i}),n+=2}return e[0]}return{exist:"false"}}t=function(t){t.init(function(t,e){e&&e()})},window.WebViewJavascriptBridge?t(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){t(WebViewJavascriptBridge)},!1);var e={_getPageTitle:function(t){var e=$(t),n={title:e.attr("title")},a=e.attr("data-btnLeft").split("|");n.leftButton=r(a);var i=e.attr("data-btnRight").split("|");n.rightButton=r(i);var o=e.data("theme");return n.theme=o,n},initPageTitle:function(t){try{var e=this._getPageTitle(t);s("initPageTitle",JSON.stringify(e))}catch(t){alertinfo("初始化页标题栏异常","initPageTitle:"+t)}},alertinfo:function(t,e,n,a){try{var i={title:e,msg:t,ok_text:a,ok_func:n||"",type:"ALERT"};s("alertinfo",JSON.stringify(i))}catch(t){alert("alertinfo:"+t)}},confirm:function(t,e,n,a,i,o){try{var r={title:e,msg:t,ok_text:i,ok_func:n||"",cancel_text:o,cancel_func:a||"",type:"CONFIRM"};s("alertinfo",JSON.stringify(r))}catch(t){alert("confirm:"+t)}},openWaitPanel:function(t){try{var e={msg:t,touchable:"false",type:"OPEN"};s("openWaitPanel",JSON.stringify(e))}catch(t){alertinfo("开启等待层异常","openWaitPanel="+t)}},hideWaitPanel:function(){try{s("hideWaitPanel",JSON.stringify({type:"CLOSE"}))}catch(t){alertinfo("关闭等待层异常","hideWaitPanel:"+t)}},showMoneyPicker:function(t,e){try{YT.Client.showKeyBoard(t),s("showMoneyKeyboard",e)}catch(t){alertinfo("开启金额键盘异常","showMoneyPicker:"+t)}},showTPwdPicker:function(t,e){try{YT.Client.showKeyBoard(t),s("showTPwdKeyboard",e)}catch(t){alertinfo("开启交易密码安全键盘异常","showTPwdPicker:"+t)}},showDatePicker:function(t,e){try{YT.Client.showKeyBoard(t),s("showCalendarView",e)}catch(t){alertinfo("开启日期键盘异常","showCalendarView:"+t)}},showNumPicker:function(t,e){try{YT.Client.showKeyBoard(t),s("showNumberKeyboard",e)}catch(t){alertinfo("开启数字键盘异常","showNumPicker:"+t)}},showIDCPicker:function(t,e){try{YT.Client.showKeyBoard(t),s("showIDCKeyboard",e)}catch(t){alertinfo("开启身份证键盘异常","showIDCKeyboard:"+t)}},showLPwdPicker:function(t,e){try{YT.Client.showKeyBoard(t),s("showLPwdKeyboard",e)}catch(t){alertinfo("开启登录密码安全键盘异常","showLPwdPicker:"+t)}},showKeyBoard:function(t){YT.Device._preShowKeyBoard(t)},openPhoneBook:function(t){try{var e={callback:t};s("showAddressBook",JSON.stringify(e))}catch(t){alertinfo("打开手机电话薄异常","openPhoneBook:"+t)}},sendSms:function(t){try{s("sendSms",JSON.stringify(t))}catch(t){alertinfo("发送短信异常","sendSms:"+t)}},callPhone:function(t){try{s("callPhone",JSON.stringify(t))}catch(t){alertinfo("打电话异常","callPhone:"+t)}},sessionTimeout:function(t,e,n){try{var a={title:t,msg:e,ok_text:n,type:"TIMEOUT"};s("sessionTimeout",JSON.stringify(a))}catch(t){alertinfo("session超时","sessionTimeout:"+t)}},getSession:function(t){try{var e={callback:t};s("getSession",JSON.stringify(e))}catch(t){alertinfo("获取登录用户信息异常","getSession:"+t)}},setSession:function(t){try{var e={sessData:t};s("setSession",JSON.stringify(e))}catch(t){alertinfo("设置登录用户信息异常","setSession:"+t)}},post:function(t){try{t.success=YT.getFunctionName(t.success),t.failure=YT.getFunctionName(t.failure),s("post",JSON.stringify(t))}catch(t){alertinfo("通讯组件异常","post:"+t)}},gotoIndex:function(){try{s("gotoIndex",{})}catch(t){alertinfo("返回系统首页异常","gotoIndex:"+t)}},gotoBack:function(){try{s("gotoBack",{})}catch(t){alertinfo("返回上一页异常","gotoBack:"+t)}},gotoLogin:function(){try{s("gotoLogin",{})}catch(t){alertinfo("返回登录页异常","gotoLogin:"+t)}},geneQRC:function(t,e){try{var n={data:JSON.stringify(t),callback:e};s("geneQRC",JSON.stringify(n))}catch(t){alertinfo("二维码生成异常","geneQRC:"+t)}},sweepQRC:function(t){try{var e={callback:t};s("sweepQRC",JSON.stringify(e))}catch(t){alertinfo("二维码扫一扫异常","sweepQRC:"+t)}},sharePages:function(t,n){try{YT.ajaxData("/common/shareInfoQuery.do",{FUNC_ID:t.func_id},function(t){var e={callback:n,type:t.SHARE_CHANNEL.split(","),data:{title:n.title,content:n.content,href_url:basePath+t.SHARE_URL+n.code,img_url:basePath+t.SHARE_IMG_URL,iphone:"",XH_href_url:basePath+t.SHARE_FRIEND_URL}};s("share",JSON.stringify(e))})}catch(t){alertinfo("页面分享异常","sharePages:"+t)}},shareReceipt:function(t,e){try{var n={data:t,callback:e};s("shareReceipt",JSON.stringify(n))}catch(t){alertinfo("分享图片信息异常","shareReceipt:"+t)}},setCollection:function(t){if(!YT.isEmpty(t)){var e=t.STAY_TIME,n=t.PAGE_ACTIVE,a=(e=t.CURRENTTIMESTRING,t.STAY_TIME);if(YT.isEmpty(a)){var i=t.EVENTNO;YT.log.info("用户在:"+n+"，页面点击了:"+i+"，当前时间:"+e)}else YT.log.info("用户在:"+n+"，页面中停留:"+a+"毫秒，当前时间:"+e);try{s("BehaviorCollection",JSON.stringify(t))}catch(t){alertinfo("行为采集异常","BehaviorCollection:"+t)}}},openMobilePhoto:function(t,e){try{var n={data:t,callback:e};s("openMobileCamera",JSON.stringify(n))}catch(t){alertinfo("调用拍照&相册异常","openMobileCamera:"+t)}},openMobileCamera:function(t,e){try{var n={data:t,callback:e};s("openMobileCamera",JSON.stringify(n))}catch(t){alertinfo("调用拍照异常","openMobileCamera:"+t)}},openMobilePhotoAlbum:function(t,e){try{var n={data:t,callback:e};s("openMobileCamera",JSON.stringify(n))}catch(t){alertinfo("调用相册异常","openMobileCamera:"+t)}},location:function(t){try{var e={callback:t};s("location",JSON.stringify(e))}catch(t){alertinfo("获取坐标信息异常","location:"+t)}},checkFingerPrint:function(t){try{var e={callback:t};s("checkFingerPrint",JSON.stringify(e))}catch(t){alertinfo("调用指纹验证异常","checkFingerPrint:"+t)}},openFingerPrint:function(t){try{var e={callback:t};s("openFingerPrint",JSON.stringify(e))}catch(t){alertinfo("开通指纹验证异常","openFingerPrint:"+t)}},showPopupWindow:function(t){try{s("showPopupWindow",JSON.stringify(t))}catch(t){alertinfo("开启弹出菜单层异常","showPopupWindow:"+t)}},getLayoutData:function(t){try{s("getLayoutData",JSON.stringify(t))}catch(t){alertinfo("获取客户端缓存信息","showPopupWindow:"+t)}},setLayoutData:function(t){try{s("setLayoutData",JSON.stringify(t))}catch(t){alertinfo("设置客户端缓存信息","setLayoutData:"+t)}},setGesture:function(t){try{var e={callback:t};s("setGesture",JSON.stringify(e))}catch(t){alertinfo("设置手势异常","setGesture:"+t)}},checkGesture:function(t){try{var e={callback:t};s("checkGesture",JSON.stringify(e))}catch(t){alertinfo("手势验证异常","checkGesture:"+t)}},openOrColse:function(t){try{var e={callback:t};s("openOrColse",JSON.stringify(e))}catch(t){alertinfo("开启手势或指纹登录异常","openOrColse:"+t)}},getNativeCache:function(t){try{t.success=YT.getFunctionName(t.success),t.failure=YT.getFunctionName(t.failure),s("getNativeCache",JSON.stringify(t))}catch(t){alertinfo("调用缓存请求通讯组件异常","getNativeCache:"+t)}},openMenuPage:function(t){try{s("openMenuFunc",JSON.stringify(t))}catch(t){alertinfo("Web首页跳转组件异常","openMenuFunc:"+t)}}};YT.Client=e}(),YT.Ajax=function(t){return YT.apply(this,t),YT.Ajax.superclass.constructor.call(this),this},YT.extend(YT.Ajax,YT.util.Observable,{autoLoad:!0,autoDecode:!0,params:{},load:function(t){var e=this;YT.apply(e.params,t),e.lastOptions=t,!1!==e.fireEvent("beforeload",e)&&(e.isLoading=!0,YT.log.debug("--ajax.url---",e.url),YT.ajaxData(e.url,e.params,function(t){e.fireEvent("load",e,t),e.isLoading=!1}))},reload:function(){this.load(this.lastOptions)}}),YT.TransAjax=function(){return{_timeoutflg:!0,options:{timeout:12e4,showError:!0,loadText:!1},init:function(t){YT.apply(this.options,t)},clear:function(){this._timeoutflg=!1,this._timeoutHandle&&clearTimeout(this._timeoutHandle)},start:function(){},newXhr:function(){var t=null;try{t=new XMLHttpRequest}catch(t){}return t},loadData:function(t){YT.log.debug("---ajaxData-init----","TransAjax"),t=YT.apply({loadText:!1,mediaType:"application/json"},t),this.post(t)},post:function(t){var e=this,n=e.options;YT.apply(n,t),e.start();var a=this.newXhr();a.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){e.clear(),YT.log.debug("---callback ","TransAjax");var t=YT.JsonEval(this.responseText);if(t){if("005"==t.STATUS)return YT.hideWaitPanel(),void setTimeout(function(){YT.nextPage("page/00/P400.html")},500);if("006"==t.STATUS)return YT.hideWaitPanel(),void YT.alertinfo(""+t.MSG);if("1"!=t.STATUS&&n.showError)return YT.hideWaitPanel(),void YT.alertinfo(""+t.MSG);n.success&&n.success(t)}else n.showError&&YT.alertinfo(NS.MSG.MsgAjaxError),n.failure&&n.failure(t)}else n.showError&&YT.alertinfo(NS.MSG.MsgAjaxError)},a.open("POST",n.url,!0),a.setRequestHeader("Content-Type",n.mediaType||"application/json"),a.send(YT.JsonToStr(n.param||n.params||{})),0<n.timeout&&(e._timeoutHandle=setTimeout(function(){a&&e._timeoutflg&&(YT.hideWaitPanel(),a.abort(),n.showError&&YT.alertinfo(NS.MSG.MsgAjaxError))},n.timeout))}}},$(function(){var t="YT.Checkbox";YT.log.debug("---init--",t);var i=YT.Checkbox={init:function(t,e,n){var a=t.find("[data-type='checkbox']");0<a.length&&i.initCheckBox(a,t)},initCheckBox:function(t,e){t.find(".y-checkbox").each(function(){var t=$(this).find("input[type=checkbox]");t.prop("checked")?($(this).addClass("checked"),t.attr("checked","true")):($(this).removeClass("checked"),t.removeAttr("checked"))}),e.on("click",".y-checkbox",function(){var t=$(this).find("input[type=checkbox]");$(this).hasClass("checked")?($(this).removeClass("checked"),t.removeAttr("checked","true")):($(this).addClass("checked"),t.attr("checked","true"))})}};YT.log.debug("---end--",t)}),YT.Component=function(t){return YT.apply(this,t),YT.Component.superclass.constructor.call(this),this.initComponent(),this.initEvents(),this.finishRender(),this},YT.extend(YT.Component,YT.util.Observable,{initComponent:function(){this.el=this.contentEl&&(YT.isString(this.contentEl)?$("#"+this.contentEl):this.contentEl),this.initTpl()},initEvents:YT.emptyFn,initTpl:YT.emptyFn,finishRender:function(){this.fireEvent("render",this)}}),function(){var o=YT.Popup={_popupBoxId:"_popupBox",_AppWindow:"",_popupMenuTpl:['<div class="yui-popup-mask"></div>','<div class="yui-popup-group"><div class="yui-popup-array">',"<em></em>","<i></i>","</div>",'<div class="yui-popup-menus">',"<ul>{@each LIST as item,index}",'<li data-func="${item.func}">${item.name}</li>',"{@/each}","</ul></div>","</div>"].join(""),initPopupindow:function(t,e,n){this._AppWindow=e,this.hidePopupPanel();var a=n.tpl?n.tpl:"",i=document.createElement("div");t[0].appendChild(i),i.id=this._popupBoxId;var o='\t<div class="ui-popup-overlay"></div>\t<div class="ui-popup-modal-view">\t\t<div class="ui-popup-modal-group">\t\t\t<div class="ui-popup-modal-label">请选择</div>\t\t{@each LIST as item,index}\t\t\t<div class="ui-popup-modal-button" func="${item.func}">${item.name}</div>\t\t{@/each}\t\t</div>\t\t<div class="ui-popup-modal-group">\t\t\t<div class="ui-popup-modal-button">取消</div>\t\t</div>\t</div>';o=a||o;var r=Fw.template(o,{LIST:n.list});$(i).html(r);var s=$(i).find(".ui-popup-modal-view");setTimeout(function(){s.addClass("modal-in")},200),$("body").css({overflow:"hidden"}),this.initEvent()},initEvent:function(){var t=$("#"+this._popupBoxId);t.on("click",".ui-popup-modal-button",this.btnFunc),t.on("click",".ui-popup-overlay",this.hidePopupPanel)},btnFunc:function(){var t=$(this).attr("func");YT.isEmpty(t)||o._AppWindow[t]&&o._AppWindow[t](),o.hidePopupPanel()},hidePopupPanel:function(){$("body").css({overflow:"auto"});var t=$("#"+o._popupBoxId),e=t.find(".ui-popup-modal-view");t.find(".ui-popup-overlay").remove(),e.removeClass("modal-in"),e.addClass("modal-out"),setTimeout(function(){t.remove()},300)},initPopuMenus:function(t,e,n){var a=Fw.template(o._popupMenuTpl,{LIST:n}),i=document.createElement("div");t[0].appendChild(i),i.id="_popuMenus",$(i).html(a),$(i).on("click",".yui-popup-menus li",function(){var t=$(this).data("func");YT.isEmpty(t)||e[t]&&e[t](),o.hidePopuMenus()}),$(i).on("click",".yui-popup-mask",function(){o.hidePopuMenus()})},hidePopuMenus:function(){$("#_popuMenus").remove()}}}(),$(function(){var t="YT.Radiobox";YT.log.debug("---init--",t);var i=YT.Radiobox={init:function(t,e,n){var a=t.find('[data-type="radiobox"]');a.length<1||(i.initNormalRabiobox(a,t,e,n),i.initTabRabiobox(a,t,e,n))},initTabRabiobox:function(t,a,i,e){t.find(".y-radio-tab").each(function(){$(this).find('input[type="radio"]').prop("checked")?$(this).addClass("current"):$(this).removeClass("current")}),a.on("click",".y-radio-tab",function(){var t=$(this).attr("data-callback"),e=$(this).find("input[type=radio]"),n=e.attr("name");a.find("input[type=radio]").filter("[name="+n+"]").each(function(){$(this).parent().removeClass("current"),$(this).removeAttr("checked")}),$(this).addClass("current"),e.attr("checked","true"),i[t]&&i[t]()})},initNormalRabiobox:function(t,e,n,a){t.find(".y-radio").each(function(){var t=$(this).find('input[type="radio"]');t.prop("checked")?($(this).addClass("checked"),t.attr("checked","true")):($(this).removeClass("checked"),t.removeAttr("checked"))}),e.on("click",".y-radio",function(){var t=$(this).find("input[type=radio]").attr("name");e.find("input[type=radio]").filter("[name="+t+"]").each(function(){$(this).prop("checked")?($(this).parent().addClass("checked"),$(this).attr("checked","true")):($(this).parent().removeClass("checked"),$(this).removeAttr("checked"))})})}};YT.log.debug("---end--",t)}),function(){var c=null,i=181,l=YT.Slider={init:function(t,e,n){var a=t.find(".y-slider");if(0==a.length)return!1;i=a.attr("data-height"),i=YT.isEmpty(i)?181:i,seajs.use("assets/js/plugin/swiper/swiper.min",function(){l.initSilde(a,e,n)})},initSilde:function(e,n,t){var a=e.find(".x-slider"),i=[];a.each(function(t,e){var n={};n.img=$(e).attr("data-img"),n.title=$(e).attr("data-title"),n.click=$(e).attr("data-click"),i.push(n)});var o=e.attr("data-title"),r=!1;YT.isEmpty(o)||"show"!=o||(r=!0);var s=e.attr("data-auto");s=YT.isEmpty(s)?3e3:s,c||l.initTpl(r),e.html(YT.template(c,{LIST:i})),new Swiper(".ui-swiper-containe",{lazy:!0,autoplay:{delay:s,stopOnLastSlide:!1,disableOnInteraction:!0},on:{slideChange:function(){var t=e.data("change");n[t]&&n[t]()}}}),e.on("click","[data-click]",function(){var t=$(this).data("click"),e=$(this).data("index");n[t]&&n[t](e)})},initTpl:function(t){var e=[];e.push('<div class="ui-swiper-containe">'),e.push('\t<div <div class="swiper-wrapper ui-swiper-wrapper">'),e.push("{@each LIST as item,index}"),e.push('\t\t<div class="swiper-slide" data-click="${item.click}" data-index="${index}" >'),e.push('\t\t\t<img class="swiper-lazy" data-src="${item.img}" width="100%" height="'+i+'px" />'),e.push('\t\t\t<div class="swiper-lazy-preloader" style="height:'+i+'px"><div class="swiper-lazy-preloader-loadding"></div></div>'),t&&e.push('\t\t<div class="ui-swiper-title">${item.title}</div>'),e.push("\t\t</div>"),e.push("{@/each}"),e.push("\t</div>"),e.push("</div>"),c=e.join("")}}}(),function(){var c=YT.Sms={initSmsController:function(e,n,t){var a=e.find(".y-sms");if(!(a.length<1)){var i=a.find(".x-sms-send");if(i.length<1)YT.log.error("---YT.Sms---","not found 'x-sms-send' define");else{c.relem=e.find(".r-sms-send");var o=a.data("url")||"common/smsCodeSend";if(o){var r=a.data("send-clazz"),s=a.data("callback");c.timer=c.counttime=a.data("timer")||60,c.openTimerListener(i,t,function(){if(YT.isEmpty(s)){var t=e.find(r);return!!YT.Form.validator(t)&&YT.Form.getFormJson(t)}return n[s]()},function(){YT.log.info("---sms.callback---")},o)}}}},getSmsCode:function(t,e,n,a){var i=this;a=YT.dataUrl(a),YT.ajaxData(a,e,function(t){YT.hideWaitPanel(),"1"==t.STATUS?(YT.showTips("短信已发送!"),i.relem&&0<i.relem.length&&(i.relem.data("flow-no-name")<1&&Fw.log.warn("---YT.Sms---","'r-send-sms' data-flow-no-name is not defined"),i.relem.find("input").val(t[i.relem.data("flow-no-name")||"SMS_FLOW_NO"])),n&&n()):YT.alertinfo(t.MSG)},function(t){YT.hideWaitPanel(),YT.alertinfo(t?t.MSG:"网络失败，请稍后重试")})},openTimerListener:function(e,n,a,t,i){void 0===n&&(n={});var o=this;e.on("click",function(){if(a){var t=a();if(!t)return;$.extend(n,t)}o._initTime=(new Date).getTime()-1e3,o._sumTime=o.counttime,o.getSmsCode(e,n,function(){o._startTimerListener(e)},i),o._startTimerListener(e)})},_startTimerListener:function(t){var e=this;if(0<e.timer){var n=e._getTimer();e.timer=e._sumTime-n,0<e.timer?(t.text(e.timer+"秒"),t.attr("disabled",!0),e.intervalID=setTimeout(function(){e._startTimerListener(t)},1e3)):e._closeTimerListener(t)}else e._closeTimerListener(t)},_getTimer:function(){var t=(new Date).getTime();return Math.floor((t-this._initTime)/1e3)},_closeTimerListener:function(t){var e=this;e.intervalID&&(clearTimeout(e.intervalID),t.removeAttr("disabled"),t.text("重新发送"),e.timer=e.counttime,e.intervalID=null)}}}(),function(){var l=YT.Tab={initTab:function(c,n){var a=n.Panel,t=a.find(".y-tab");l.App=c,l.Page=n.Page,l.Json=n.Json,t.each(function(){var t=l.box=$(this),e=l.menu=t.find("[data-name=tab-ele]"),o=l.content=t.find("[data-name=tab-ele-content]"),r=(e.length,l.slidedom=t.find(".r-tab-container")),s=(e.parent(),o.parent().width(),void 0===t.find(".active")?t.find(".active"):e.eq(0));s.addClass("active"),s.attr("data-ready","true"),YT.loadPage(o.eq(s.index()),s.data("url"),{},function(){YT.Form.initPanel(l.Page,l.App,l.Json);var t=s.data("callback");YT.isEmpty(t)||c[t]&&c[t](o.eq(s.index()))}),s.attr("data-ready","false"),e.on("click",function(){var t=$(this),e=t.index(),n=t.data("url"),a=t.data("callback"),i=s.attr("data-ready","true");n&&i&&(YT.loadPage(o.eq(e),n,{},function(){YT.Form.initPanel(l.Page,l.App,l.Json),YT.isEmpty(a)||c[a]&&c[a](o.eq(e))}),t.attr("data-ready","false"),l.slideEvent(t,e,o,r))}),n.Scroll||("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(l.body=a[0],l.body.addEventListener("touchstart",Fw.bind(l.start,this),!1))})},slideEvent:function(t,e,n,a){t.addClass("active").siblings().removeClass("active");var i=$(window).width()*e*-1;a.animate({left:i})},start:function(t){var e=t.targetTouches[0];l.startPos={x:e.pageX,y:e.pageY,time:+new Date},l.isScrolling=0,l.body.addEventListener("touchmove",Fw.bind(l.move,this),!1),l.body.addEventListener("touchend",Fw.bind(l.end,this),!1)},move:function(t){if(!(1<t.targetTouches.length||t.scale&&1!==t.scale)){var e=t.targetTouches[0];l.endPos={x:e.pageX-l.startPos.x,y:e.pageY-l.startPos.y},l.isScrolling=Math.abs(l.endPos.x)<Math.abs(l.endPos.y)?1:0,0===l.isScrolling&&t.preventDefault()}},end:function(t){l.body.removeEventListener("touchmove",Fw.bind(l.move,this),!1),l.body.removeEventListener("touchend",Fw.bind(l.end,this),!1);var e=+new Date-l.startPos.time;if(0===l.isScrolling&&100<Number(e)){var n=l.box.find(".active").index();if(YT.isEmpty(l.endPos)||YT.isEmpty(l.endPos.x))return;if(50<l.endPos.x?n-=1:l.endPos.x<-50&&(n+=1),l.box.length<n||n<0)return;var a=l.menu.eq(n),i=a.data("url"),o=a.data("callback"),r=l.box.find(".active").attr("data-ready","true");i&&r&&(YT.loadPage(l.content.eq(n),i,{},function(){YT.Form.initPanel(l.Page,l.App,l.Json),YT.isEmpty(o)||l.App[o]&&l.App[o](l.content.eq(n))}),a.attr("data-ready","false"),l.slideEvent(a,n,l.content,l.slidedom))}},initTabFilter:function(t,e,n){var a=t.find(".y-select-change-tab");a.length<1||(l.initTabClick(a,t),l.initTabItemClick(a,t,e,n),l.initShandow(a))},initTabClick:function(i,o){i.find(".y-select-change div").on("click","",function(t){var e=$(this).data("index");if($(this).hasClass("makesoft1"))return $(this).removeClass("makesoft1"),$(this).addClass("makesoft"),$(o).parent().css("height","initial"),$(o).css("height","initial"),i.find(".y-select-change-item[data-index='"+e+"']").hide(),void i.find(".y-shandow").hide();var n=i.find(".y-select-change div[class='makesoft1']");n.removeClass("makesoft1"),n.addClass("makesoft");var a=n.data("index");i.find(".y-select-change-item[data-index='"+a+"']").hide(),$(o).parent().css("height","100%"),$(o).css("height","100%"),$(this).removeClass("makesoft"),$(this).addClass("makesoft1"),i.find(".y-shandow").show(),i.find(".y-select-change-item[data-index='"+e+"']").stop().slideDown()})},initTabItemClick:function(a,t,i,e){var o=a.data("change");a.find(".y-select-change-item div").on("click","",function(){$(this).siblings(".current").removeClass("current"),$(this).addClass("current");var t=$(this).parent();t.hide(),t.attr("data-value",$(this).data("value"));var e=t.data("index"),n=a.find(".y-select-change div[data-index='"+e+"']");n.removeClass("makesoft1"),n.addClass("makesoft"),n.children("span:first-child").html($(this).html()),a.find(".y-shandow").hide(),o&&i&&i[o]&&i[o]()})},initShandow:function(e){e.find(".y-shandow").on("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),e.find(".y-shandow").on("click",function(t){e.find(".y-select-change div").addClass("makesoft"),e.find(".y-select-change div").removeClass("makesoft1"),e.find(".y-shandow").hide(),e.find(".y-select-change-item").hide()});var t=$(window).height();e.find(".y-shandow").height(t)}}}(),$(function(){var t="YT.Tips";YT.log.debug("--init--",t);var i={content:"",stayTime:1e3,type:"info",callback:function(){}};YT.Tips={showTips:function(t){t=YT.apply(i,t);var e=YT.template('<div class="ui-poptips ui-poptips-${type}"><div class="ui-poptips-cnt"><i></i>${content}</div></div>',t),n=$(e);n.appendTo("body");var a=n.height();n.css({"-webkit-transform":"translateY(-"+a+"px)"}),setTimeout(function(){n.css({"-webkit-transition":"all .5s","-webkit-transform":"translateY(0)"})},20),0<t.stayTime&&setTimeout(function(){n.css({"-webkit-transform":"translateY(-"+a+"px)"}),setTimeout(function(){n.remove()},500)},t.stayTime)}},YT.log.debug("--end--",t)}),function(){var o="",c=YT.Upload={init:function(t,e,n){c.initImgUploadTemp(t,e,n)},initImgUploadTemp:function(t,e,n){if(0==t.find(".y-upload-img").length)return!1;seajs.use("assets/js/plugin/jquery/ajaxfileupload",function(){c.initImgUpload(t,e,n)})},initImgUpload:function(t,e,n){var a=t.find(".y-upload-img"),i=(c.uploadImg=a).find(".ui-upload [type=file]"),o=a.attr("data-maxNum"),r=a.attr("data-maxSize"),s=a.attr("data-compress"),module=a.attr("data-module");r=YT.isEmpty(r)?1024:r,c.compress=YT.isEmpty(s)?"":s,c.maxNum=YT.isEmpty(o)?3:o,c.curMaxNum=0,c.module=module,a.on("click",".ui-upload-close",function(){c.closeUpload($(this))}),a.on("click","[data-event=fileUpload]",function(){c.fileUpload(e)}),a.on("click","[data-event=filePreview]",function(){c.filePreview($(this))}),i.on("change",function(){c.thatImg=$(this);var t=$(this)[0].files[0];["jpeg","png","gif","jpg"].indexOf(t.type.split("/")[1])<0?YT.showTips("文件类型仅支持 jpeg/jpg/png/gif！"):t.size>1024*r?YT.showTips("文件大小不能超过:"+r+"K"):(c.imgType=t.type||"image/jpeg",c.buildLoading(t,a))})},fileUpload:function(a){var t=c.uploadImg.find(".img-upload[type=file]"),n=[];$.each(t,function(t,e){n[t]=$(e).attr("id")});var e=c.uploadImg.attr("data-url");e=YT.isEmpty(e)?"file/upload":e;var i=YT.dataUrl(e);$.ajaxFileUpload({url:i,secureuri:!1,dataType:"text",data:{module:c.module},fileElementId:n,success:function(t){YT.log.info("upload reponse :",t);try{var e=YT.JsonEval(t);if(e&&"1"==e.STATUS){var n=c.uploadImg.attr("data-callback");a[n]&&a[n](e)}else YT.alertinfo(e&&e.MSG||"上传失败！","系统提示")}catch(t){YT.alertinfo("上传失败！","系统提示")}}})},buildLoading:function(t,e){var n=c.thatImg.parent().parent();o=YT.id();var a='<div class="ui-upload-item"><i class="ui-upload-close" data-id='+c.thatImg.attr("id")+'></i><div class="ui-upload"><div><i class="ui-upload-loding"></i><div class="ui-upload-text">加载中...</div></div></div></div>',i=$(a);n.before(i),c.loading=i,c.fileToDataUrl(t),c.curMaxNum++,c.judgePanel()},fileToDataUrl:function(t){var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){var e=t.target.result;"compress"==c.compress&&c.compressHandler(e,function(t){c.loading.html('<i class="ui-upload-close" data-id="'+c.thatImg.attr("id")+'"></i><div class="ui-upload-info"><img data-id="'+o+'" data-event="filePreview" alt="" src="'+t+'"></div>'),YT.log.info("图片加载成功!");var e=c.thatImg.clone();e.attr("id",o),e.attr("name",o),e.attr("class","img-upload"),c.loading.append(e),c.loading&&(c.loading=null),c.thatImg&&c.thatImg.val("")})},e.onerror=function(){c.loading&&c.loading.remove(),c.curMaxNum--,c.judgePanel(),YT.log.info("图片加载失败!"),c.loading=null}},compressHandler:function(t,a){var i=new window.Image;i.src=t,i.onload=function(){var t,e=document.createElement("canvas"),n=e.getContext("2d");e.width=i.width,e.height=i.height,n.drawImage(i,0,0,e.width,e.height),t=e.toDataURL(c.imgType,.2),a(t)}},closeUpload:function(t){t.parent().remove(),c.abortHandler(),c.curMaxNum--;var e=$(t).attr("data-id");$("#"+e).parent().parent().show()},abortHandler:function(){c.reader&&(c.reader.abort(),YT.showTips("图片上传中断!"))},judgePanel:function(){var t=c.uploadImg.find(".ui-upload-select");c.curMaxNum>=c.maxNum?t.hide():t.show(),1<t.length&&c.thatImg.parent().parent().hide()},filePreview:function(t){var e=$("#mainBody");e.css("overflow","hidden"),e.append(YT.template('<div class="ui-upload-preview" id="yt-upload-preview">\t<div class="ui-upload-preview-mask" data-event="preview-hide"></div>\t<div class="ui-upload-preview-img">\t\t<i class="close" data-id="${ID}" data-event="preview-del"></i>\t\t<img src="${SRC}">\t</div></div>',{SRC:t.attr("src"),ID:t.attr("data-id")}));var n=$("#yt-upload-preview");n.on("click","[data-event=preview-hide]",function(){n.remove()}),n.on("click","[data-event=preview-del]",function(){var t=$(this).attr("data-id");$("#"+t).parent().remove(),n.remove(),c.curMaxNum--,c.judgePanel()})}}}();